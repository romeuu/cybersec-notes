
08-05-2025 11:25
Status: #project
Tags: [[Linux Privilege Escalation]]

# Exploiting SUID Binaries

Los SUID permissions son una manera alternativa de dar permisos a usuarios en Linux que se pueden utilizar en ciertas ocasiones.

Cuando se aplican, estos permisos dan la habilidad de ejecutar un script o binario, como el dueño del fichero al usuario que los obtenga.

Los permisos SUID se dan normalmente a usuarios que no tienen privilegios para poder ejecutar scripts o ejecutables específicos con permisos de root. Esto nos puede permitir, que en el caso de que existan configuraciones erróneas, usar estos permisos fuera de este ejecutable.

## Requisitos para exploiting

Para conseguir explotar una vulnerabilidad en los SUID, tendremos que fijarnos en el dueño del SUID binary, centrándonos así en usuarios como el root, o otros usuarios con permisos elevados.

Y también, tendremos que tener permisos de ejecución sobre este fichero para poder ejecutarlo.

## Exploiting

Cuando queramos ver los permisos de un fichero, podremos usar el comando **ls -la**, y tendremos que localizar ficheros de los que sea dueño el root.

Una vez que encontremos estos ficheros, podremos conseguir más información del fichero con el comando **file nombre**.

Para conseguir las strings del fichero para hacer análisis estático, podremos usar el comando **strings nombre-fichero**. Esto nos permitirá ver que hace directamente el fichero, y podremos ver si se llama a otros binarios que podríamos manipular.

Es decir, si se llama a un binario que se llama **greetings**, podríamos borrarlo si tenemos permisos, y crear nosotros nuestro propio binario llamado **greetings**.

Podríamos hacer lo siguiente:

```bash
rm greetings
cp /bin/bash greetings
```

Y ahora cuando ejecutemos nuestro binario otra vez, deberíamos de tener una shell con permisos de root.



---
# Backlinks

```dataview
LIST
FROM [[]]
SORT file.name ASC
```
